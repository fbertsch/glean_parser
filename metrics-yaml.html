
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>metrics.yaml file &#8212; Glean Parser 0.10.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="glean_parser" href="modules.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="metrics-yaml-file">
<h1><code class="docutils literal notranslate"><span class="pre">metrics.yaml</span></code> file<a class="headerlink" href="#metrics-yaml-file" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">metrics.yaml</span></code> file defines what metrics and events your application will
collect.</p>
<p>The top-level of the file must contain the following key-value pair to indicate
that it is a glean <code class="docutils literal notranslate"><span class="pre">metrics.yaml</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$schema: &quot;moz://mozilla.org/schemas/glean/metrics/1-0-0&quot;
</pre></div>
</div>
<p>The other keys at the top level of the file are category names. Category names
must be in <code class="docutils literal notranslate"><span class="pre">snake_case</span></code>, but may also contain <code class="docutils literal notranslate"><span class="pre">.</span></code> to indicate <em>ad hoc</em>
subcategories. Category names have a maximum of 40 characters.</p>
<p>Within each category, the individual metrics are defined. The key is the name of
the metric (<code class="docutils literal notranslate"><span class="pre">snake_case</span></code> with a maximum of 30 characters), and each value is
an object with the following parameters described below.</p>
<div class="section" id="metric-parameters">
<h2>Metric parameters<a class="headerlink" href="#metric-parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="type">
<span id="id1"></span><h3>type<a class="headerlink" href="#type" title="Permalink to this headline">¶</a></h3>
<p><strong>Required.</strong></p>
<p>Specifies the type of a metric, like “counter” or “event”. This defines
which operations are valid for the metric, how it is stored and how
data analysis tooling displays it.</p>
<p>The supported types are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">event</span></code>: Record a specific event (with optional metadata).
Additional properties: <code class="docutils literal notranslate"><span class="pre">objects</span></code> and <code class="docutils literal notranslate"><span class="pre">extra_keys</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">boolean</span></code>: A metric storing values of true or false.</li>
<li><code class="docutils literal notranslate"><span class="pre">string</span></code>: A metric storing Unicode string values.</li>
<li><code class="docutils literal notranslate"><span class="pre">string_list</span></code>: a list of Unicode strings.</li>
<li><code class="docutils literal notranslate"><span class="pre">enumeration</span></code>: a string with a fixed set of values. Additional properties:
<a class="reference internal" href="#values">values</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">counter</span></code>: A numeric value that can only be incremented.</li>
<li><code class="docutils literal notranslate"><span class="pre">timespan</span></code>: Represents a time interval. Additional properties: <a class="reference internal" href="#time-unit">time_unit</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">timing_distribution</span></code>: Record the distribution of multiple timings.
Additional properties: <a class="reference internal" href="#time-unit">time_unit</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">datetime</span></code>: A date/time value.  Represented as an ISO datetime in UTC.
Additional properties: <a class="reference internal" href="#time-unit">time_unit</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">use_counter</span></code>: Records the value of one of more values in relation
to another value. Represented internally as a list of numerators
and denominator, all of which can be incremented separately.
Additional properties: <a class="reference internal" href="#labels">labels</a>, <a class="reference internal" href="#denominator">denominator</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">usage</span></code>: Record whether a feature is used. This is functionally
equivalent to a boolean metric type, except the analysis and
visualization side may present it differently, knowing that it
indicates the usage of a feature.</li>
<li><code class="docutils literal notranslate"><span class="pre">rate</span></code>: Record the rate of an event over time. This is functionally
equivalent to a counter, except the analysis and visualization
will tie it to the duration of the ping to display it as a rate
over time.</li>
<li><code class="docutils literal notranslate"><span class="pre">uuid</span></code>: Record a UUID v4.</li>
</ul>
</div>
<div class="section" id="description">
<span id="id2"></span><h3>description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h3>
<p><strong>Required.</strong></p>
<p>A textual description of what this metric does, what it means, and its
edge cases or any other helpful information.</p>
</div>
<div class="section" id="notification-emails">
<span id="id3"></span><h3>notification_emails<a class="headerlink" href="#notification-emails" title="Permalink to this headline">¶</a></h3>
<p><strong>Required.</strong></p>
<p>A list of email addresses to notify for important events with the
metric or when people with context or ownership for the metric need to
be contacted.</p>
</div>
<div class="section" id="bugs">
<span id="id4"></span><h3>bugs<a class="headerlink" href="#bugs" title="Permalink to this headline">¶</a></h3>
<p><strong>Required.</strong></p>
<p>A list of bugs (e.g. Bugzilla and Github) that are relevant to this
metric, e.g., tracking its original implementation or later changes to
it.</p>
<p>If a number, it is an ID to an issue in the default tracker (e.g.
Mozilla’s Bugzilla instance). If a string, it must be a URI to a bug
page in a tracker.</p>
</div>
<div class="section" id="reviews">
<span id="id5"></span><h3>reviews<a class="headerlink" href="#reviews" title="Permalink to this headline">¶</a></h3>
<p>A list of URIs to any data collection reviews relevant to the metric.</p>
</div>
<div class="section" id="lifetime">
<span id="id6"></span><h3>lifetime<a class="headerlink" href="#lifetime" title="Permalink to this headline">¶</a></h3>
<p>Defines the lifetime of the metric.  It must be one of the following values:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ping</span></code> (default): The metric is reset each time it is sent in a ping.</li>
<li><code class="docutils literal notranslate"><span class="pre">user</span></code>: The metric contains a property that is part of the user’s
profile and is never reset.</li>
<li><code class="docutils literal notranslate"><span class="pre">application</span></code>: The metric contains a property that is related to the
application, and is reset only at application restarts.</li>
</ul>
</div>
<div class="section" id="send-in-pings">
<span id="id7"></span><h3>send_in_pings<a class="headerlink" href="#send-in-pings" title="Permalink to this headline">¶</a></h3>
<p>Which pings the metric should be sent on. If not specified, the metric
is sent on the “default ping”, which is the <code class="docutils literal notranslate"><span class="pre">events</span></code> ping for events,
and the <code class="docutils literal notranslate"><span class="pre">metrics</span></code> ping for everything else. Most metrics don’t need to
specify this.</p>
</div>
<div class="section" id="disabled">
<span id="id8"></span><h3>disabled<a class="headerlink" href="#disabled" title="Permalink to this headline">¶</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, the metric is disabled, and any metric collection on it will
be silently ignored at runtime.</p>
</div>
<div class="section" id="expires-after-build-date">
<span id="id9"></span><h3>expires_after_build_date<a class="headerlink" href="#expires-after-build-date" title="Permalink to this headline">¶</a></h3>
<p>If provided, an ISO 8601 date that represents the day from which any
collection using the metric should be silently ignored. The date is
checked at build time. If the specified date is passed, this metric is
treated as expired.</p>
</div>
<div class="section" id="version">
<span id="id10"></span><h3>version<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<p>The version of the metric. A monotonically increasing value. If not
provided, defaults to 0.</p>
</div>
<div class="section" id="values">
<span id="id11"></span><h3>values<a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h3>
<p>A list of the supported enumeration values.</p>
<p>Valid when <a class="reference internal" href="#type">type</a> is <code class="docutils literal notranslate"><span class="pre">enumeration</span></code>.</p>
</div>
<div class="section" id="time-unit">
<span id="id12"></span><h3>time_unit<a class="headerlink" href="#time-unit" title="Permalink to this headline">¶</a></h3>
<p>Specifies the unit that the metric will be stored and displayed in. If
not provided, it defaults to milliseconds. Time values are sent to the
backend as integers, so <a class="reference internal" href="#time-unit">time_unit</a> determines the maximum
resolution at which timespans are recorded.</p>
<p>Valid when <a class="reference internal" href="#type">type</a> is <code class="docutils literal notranslate"><span class="pre">timespan</span></code>, <code class="docutils literal notranslate"><span class="pre">timing_distribution</span></code> or <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
</div>
<div class="section" id="labeled">
<span id="id13"></span><h3>labeled<a class="headerlink" href="#labeled" title="Permalink to this headline">¶</a></h3>
<p>Record multiple separate metrics under different labels.
The labels may be known ahead of time (provided in the <a class="reference internal" href="#labels">labels</a>
property) or be dynamic at runtime.</p>
</div>
<div class="section" id="labels">
<span id="id14"></span><h3>labels<a class="headerlink" href="#labels" title="Permalink to this headline">¶</a></h3>
<p>A list of labels for a labeled metric or use counter.</p>
<p>Valid when <a class="reference internal" href="#labeled">labeled</a> is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</div>
<div class="section" id="denominator">
<span id="id15"></span><h3>denominator<a class="headerlink" href="#denominator" title="Permalink to this headline">¶</a></h3>
<p>The name of the denominator value for a use counter.</p>
<p>Valid when <a class="reference internal" href="#type">type</a> is <code class="docutils literal notranslate"><span class="pre">use_counter</span></code>.</p>
</div>
<div class="section" id="objects">
<span id="id16"></span><h3>objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h3>
<p>The valid event objects. This is a list of strings.</p>
<p>Valid when <a class="reference internal" href="#type">type</a> is <code class="docutils literal notranslate"><span class="pre">event</span></code>.</p>
</div>
<div class="section" id="extra-keys">
<span id="id17"></span><h3>extra_keys<a class="headerlink" href="#extra-keys" title="Permalink to this headline">¶</a></h3>
<p>The acceptable keys on the “extra” object sent with events. This is an
object mapping the key to a description.</p>
<p>Valid when <a class="reference internal" href="#type">type</a> is <code class="docutils literal notranslate"><span class="pre">event</span></code>.</p>
</div>
</div>
<div class="section" id="json-schema">
<h2>JSON Schema<a class="headerlink" href="#json-schema" title="Permalink to this headline">¶</a></h2>
<p>There is a formal schema for validating <code class="docutils literal notranslate"><span class="pre">metrics.yaml</span></code> files, included in its
entirety below:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">$schema</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://json-schema.org/draft-07/schema#</span>
<span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Metrics</span>
<span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
  <span class="no">Schema for the metrics.yaml files for Mozilla&#39;s glean telemetry SDK.</span>

<span class="l l-Scalar l-Scalar-Plain">$id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">moz://mozilla.org/schemas/glean/metrics/1-0-0</span>

<span class="l l-Scalar l-Scalar-Plain">definitions</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">token</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">pattern</span><span class="p p-Indicator">:</span> <span class="s">&quot;^[A-Za-z_][A-Za-z0-9_\\.]*$&quot;</span>

  <span class="l l-Scalar l-Scalar-Plain">snake_case</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">pattern</span><span class="p p-Indicator">:</span> <span class="s">&quot;^[a-z_][a-z0-9_]*$&quot;</span>

  <span class="l l-Scalar l-Scalar-Plain">dotted_snake_case</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">pattern</span><span class="p p-Indicator">:</span> <span class="s">&quot;^[a-z_][a-z0-9_]{0,29}(\\.[a-z_][a-z0-9_]{0,29})*$&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">maxLength</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>

  <span class="l l-Scalar l-Scalar-Plain">short_id</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">allOf</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/snake_case&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">maxLength</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>

  <span class="l l-Scalar l-Scalar-Plain">very_short_id</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">allOf</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/snake_case&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">maxLength</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>

  <span class="l l-Scalar l-Scalar-Plain">metric</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>

    <span class="l l-Scalar l-Scalar-Plain">additionalProperties</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

    <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Metric type</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">**Required.**</span>

          <span class="no">Specifies the type of a metric, like &quot;counter&quot; or &quot;event&quot;. This defines</span>
          <span class="no">which operations are valid for the metric, how it is stored and how</span>
          <span class="no">data analysis tooling displays it.</span>

          <span class="no">The supported types are:</span>
            <span class="no">- `event`: Record a specific event (with optional metadata).</span>
              <span class="no">Additional properties: `objects` and `extra_keys`.</span>

            <span class="no">- `boolean`: A metric storing values of true or false.</span>

            <span class="no">- `string`: A metric storing Unicode string values.</span>

            <span class="no">- `string_list`: a list of Unicode strings.</span>

            <span class="no">- ``enumeration``: a string with a fixed set of values. Additional properties:</span>
              <span class="no">`values`_.</span>

            <span class="no">- `counter`: A numeric value that can only be incremented.</span>

            <span class="no">- ``timespan``: Represents a time interval. Additional properties: `time_unit`_.</span>

            <span class="no">- `timing_distribution`: Record the distribution of multiple timings.</span>
              <span class="no">Additional properties: `time_unit`_.</span>

            <span class="no">- `datetime`: A date/time value.  Represented as an ISO datetime in UTC.</span>
              <span class="no">Additional properties: `time_unit`_.</span>

            <span class="no">- `use_counter`: Records the value of one of more values in relation</span>
              <span class="no">to another value. Represented internally as a list of numerators</span>
              <span class="no">and denominator, all of which can be incremented separately.</span>
              <span class="no">Additional properties: `labels`_, `denominator`_.</span>

            <span class="no">- `usage`: Record whether a feature is used. This is functionally</span>
              <span class="no">equivalent to a boolean metric type, except the analysis and</span>
              <span class="no">visualization side may present it differently, knowing that it</span>
              <span class="no">indicates the usage of a feature.</span>

            <span class="no">- `rate`: Record the rate of an event over time. This is functionally</span>
              <span class="no">equivalent to a counter, except the analysis and visualization</span>
              <span class="no">will tie it to the duration of the ping to display it as a rate</span>
              <span class="no">over time.</span>

            <span class="no">- `uuid`: Record a UUID v4.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
        <span class="l l-Scalar l-Scalar-Plain">enum</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">boolean</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">string_list</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">enumeration</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">counter</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">timespan</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">timing_distribution</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">datetime</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">use_counter</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">usage</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">rate</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">uuid</span>

      <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Description</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">**Required.**</span>

          <span class="no">A textual description of what this metric does, what it means, and its</span>
          <span class="no">edge cases or any other helpful information.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>

      <span class="l l-Scalar l-Scalar-Plain">lifetime</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Lifetime</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Defines the lifetime of the metric.  It must be one of the following values:</span>

          <span class="no">- `ping` (default): The metric is reset each time it is sent in a ping.</span>

          <span class="no">- `user`: The metric contains a property that is part of the user&#39;s</span>
            <span class="no">profile and is never reset.</span>

          <span class="no">- `application`: The metric contains a property that is related to the</span>
            <span class="no">application, and is reset only at application restarts.</span>
        <span class="l l-Scalar l-Scalar-Plain">enum</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ping</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">user</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">application</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ping</span>

      <span class="l l-Scalar l-Scalar-Plain">send_in_pings</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Send in pings</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Which pings the metric should be sent on. If not specified, the metric</span>
          <span class="no">is sent on the &quot;default ping&quot;, which is the `events` ping for events,</span>
          <span class="no">and the `metrics` ping for everything else. Most metrics don&#39;t need to</span>
          <span class="no">specify this.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">items</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/snake_case&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">default</span>

      <span class="l l-Scalar l-Scalar-Plain">notification_emails</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Notification emails</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">**Required.**</span>

          <span class="no">A list of email addresses to notify for important events with the</span>
          <span class="no">metric or when people with context or ownership for the metric need to</span>
          <span class="no">be contacted.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">minItems</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="l l-Scalar l-Scalar-Plain">items</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
          <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">email</span>

      <span class="l l-Scalar l-Scalar-Plain">bugs</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Related bugs</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">**Required.**</span>

          <span class="no">A list of bugs (e.g. Bugzilla and Github) that are relevant to this</span>
          <span class="no">metric, e.g., tracking its original implementation or later changes to</span>
          <span class="no">it.</span>

          <span class="no">If a number, it is an ID to an issue in the default tracker (e.g.</span>
          <span class="no">Mozilla&#39;s Bugzilla instance). If a string, it must be a URI to a bug</span>
          <span class="no">page in a tracker.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">minItems</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="l l-Scalar l-Scalar-Plain">items</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">anyOf</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">integer</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
              <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">uri</span>

      <span class="l l-Scalar l-Scalar-Plain">reviews</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Review references</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">A list of URIs to any data collection reviews relevant to the metric.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">items</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
          <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">uri</span>

      <span class="l l-Scalar l-Scalar-Plain">disabled</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Disabled</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">If `true`, the metric is disabled, and any metric collection on it will</span>
          <span class="no">be silently ignored at runtime.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">boolean</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

      <span class="l l-Scalar l-Scalar-Plain">expires_after_build_date</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Expires after build date.</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">If provided, an ISO 8601 date that represents the day from which any</span>
          <span class="no">collection using the metric should be silently ignored. The date is</span>
          <span class="no">checked at build time. If the specified date is passed, this metric is</span>
          <span class="no">treated as expired.</span>
        <span class="l l-Scalar l-Scalar-Plain">anyOf</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
            <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date-time</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="s">&quot;null&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>

      <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Metric version</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">The version of the metric. A monotonically increasing value. If not</span>
          <span class="no">provided, defaults to 0.</span>

      <span class="l l-Scalar l-Scalar-Plain">values</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Supported values</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">A list of the supported enumeration values.</span>

          <span class="no">Valid when `type`_ is `enumeration`.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">items</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>

      <span class="l l-Scalar l-Scalar-Plain">time_unit</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Time unit</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Specifies the unit that the metric will be stored and displayed in. If</span>
          <span class="no">not provided, it defaults to milliseconds. Time values are sent to the</span>
          <span class="no">backend as integers, so `time_unit`_ determines the maximum</span>
          <span class="no">resolution at which timespans are recorded.</span>

          <span class="no">Valid when `type`_ is `timespan`, `timing_distribution` or `datetime`.</span>
        <span class="l l-Scalar l-Scalar-Plain">enum</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">nanosecond</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">microsecond</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">millisecond</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">second</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">minute</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">hour</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">day</span>

      <span class="l l-Scalar l-Scalar-Plain">labeled</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Labeled metric</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Record multiple separate metrics under different labels.</span>
          <span class="no">The labels may be known ahead of time (provided in the `labels`_</span>
          <span class="no">property) or be dynamic at runtime.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">boolean</span>

      <span class="l l-Scalar l-Scalar-Plain">labels</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Labels</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">A list of labels for a labeled metric or use counter.</span>

          <span class="no">Valid when `labeled`_ is `true`.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">items</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/snake_case&quot;</span>

      <span class="l l-Scalar l-Scalar-Plain">denominator</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Denominator</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">The name of the denominator value for a use counter.</span>

          <span class="no">Valid when `type`_ is `use_counter`.</span>
        <span class="l l-Scalar l-Scalar-Plain">allOf</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/snake_case&quot;</span>

      <span class="l l-Scalar l-Scalar-Plain">objects</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Objects</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">The valid event objects. This is a list of strings.</span>

          <span class="no">Valid when `type`_ is `event`.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">minItems</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="l l-Scalar l-Scalar-Plain">items</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/very_short_id&quot;</span>

      <span class="l l-Scalar l-Scalar-Plain">extra_keys</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Extra keys</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
          <span class="no">The acceptable keys on the &quot;extra&quot; object sent with events. This is an</span>
          <span class="no">object mapping the key to a description.</span>

          <span class="no">Valid when `type`_ is `event`.</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
        <span class="l l-Scalar l-Scalar-Plain">propertyNames</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/very_short_id&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">additionalProperties</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
          <span class="l l-Scalar l-Scalar-Plain">maxLength</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{}</span>
        <span class="l l-Scalar l-Scalar-Plain">maxProperties</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>

    <span class="l l-Scalar l-Scalar-Plain">required</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bugs</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">description</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">notification_emails</span>

<span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>

<span class="l l-Scalar l-Scalar-Plain">propertyNames</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">anyOf</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/dotted_snake_case&quot;</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">enum</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;$schema&#39;</span><span class="p p-Indicator">]</span>

<span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">$schema</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
    <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">url</span>

<span class="l l-Scalar l-Scalar-Plain">additionalProperties</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">propertyNames</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">anyOf</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/very_short_id&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">additionalProperties</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">allOf</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&quot;#/definitions/metric&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">if</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">const</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
        <span class="l l-Scalar l-Scalar-Plain">then</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">lifetime</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">const</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ping</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Glean Parser</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Glean Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">metrics.yaml</span></code> file</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#metric-parameters">Metric parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-schema">JSON Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">glean_parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="modules.html" title="next chapter">glean_parser</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Michael Droettboom.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/metrics-yaml.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>